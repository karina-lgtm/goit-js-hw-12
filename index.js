import{a as S,i as c,S as w}from"./assets/vendor-D5mnuR-h.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const q="48859120-c5edc5c574d1328ed42f58f74",H="https://pixabay.com/api/";async function h(o,r=1,s=40){try{const a=await S.get(H,{params:{key:q,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:s,page:r}});return a.data.hits.length?{hits:a.data.hits,totalHits:a.data.totalHits}:{hits:[],totalHits:0}}catch(a){return c.error({title:"Error",message:"Failed to fetch images. Try again!"}),console.error("Fetch error:",a),{hits:[],totalHits:0}}}let m;function y(o,r=!1){const s=document.querySelector(".gallery");if(!s)return;r||(s.innerHTML="");const a=o.map(({webformatURL:e,largeImageURL:t,tags:i,likes:g,views:L,comments:b,downloads:v})=>`<a href="${t}" class="gallery-item">
            <img src="${e}" alt="${i}" />
            <div class="info">
                <p><span class="label">Likes:</span> ${g}</p>
                <p><span class="label">Views:</span> ${L}</p>
                <p><span class="label">Comments:</span> ${b}</p>
                <p><span class="label">Downloads:</span> ${v}</p>
            </div>
        </a>`).join("");s.insertAdjacentHTML("beforeend",a),m||(m=new w(".gallery a",{captions:!0,captionsData:"alt",captionDelay:250})),m.refresh()}const E=document.querySelector("#search-form"),P=document.querySelector(".gallery"),d=document.querySelector("#load-more"),u=document.querySelector(".loader");let l="",n=1;const f=40;let p=null;E.addEventListener("submit",async o=>{if(o.preventDefault(),l=o.target.elements.searchQuery.value.trim(),!l){c.warning({title:"Warning",message:"Please enter a search term!"});return}n=1,P.innerHTML="",d.classList.add("hidden"),u.classList.remove("hidden");const{hits:r,totalHits:s}=await h(l,n,f);if(u.classList.add("hidden"),r.length===0){c.error({message:"No images found. Try again!"});return}y(r),f<s&&d.classList.remove("hidden")});d.addEventListener("click",async()=>{p=document.querySelector(".gallery-item:last-of-type"),n+=1,u.classList.remove("hidden");const{hits:o,totalHits:r}=await h(l,n,f);u.classList.add("hidden"),y(o,!0),setTimeout(()=>{if(p){const s=p.nextElementSibling;s&&s.scrollIntoView({behavior:"smooth",block:"start"})}},300),n*f>=r&&(d.classList.add("hidden"),c.info({message:"We're sorry, but you've reached the end of search results."}))});
//# sourceMappingURL=index.js.map
